{
  "name": "api",
  "version": "0.1.0",
  "private": true,
  "main": "handler.js",
  "jest": {
    "collectCoverageFrom": [
      "libs/**/*.js",
      "services/**/*.js",
      "!services/model/*.js",
      "!services/test-db/*.js"
    ]
  },
  "scripts": {
    "reset:db": "yarn destroy:db && yarn start:db && sleep 5 && yarn migrate:db && yarn seed:db",
    "start:db": "docker-compose --env-file ./.env.development up -d",
    "stop:db": "docker-compose down",
    "destroy:db": "docker-compose down && docker volume prune",
    "migrate:db": "NODE_ENV=development yarn sequelize-cli db:migrate && NODE_ENV=test yarn sequelize-cli db:migrate",
    "seed:db": "NODE_ENV=development yarn sequelize-cli db:seed:all && NODE_ENV=test yarn sequelize-cli db:seed:all",
    "offline:dev": "NODE_ENV=development sls offline --stage development",
    "deploy:dev": "NODE_ENV=development sls deploy --stage development",
    "remove:dev": "NODE_ENV=development sls remove --stage development",
    "offline:prod": "NODE_ENV=production sls offline --stage production",
    "deploy:prod": "NODE_ENV=production sls deploy --stage production",
    "remove:prod": "NODE_ENV=production sls remove --stage production",
    "seed:test": "NODE_ENV=test yarn sequelize-cli db:migrate || true && NODE_ENV=test yarn sequelize-cli db:seed:all || true",
    "test": "yes | yarn reset:db && NODE_ENV=test serverless-bundle test --colors ----collectCoverage"
  },
  "dependencies": {
    "dotenv": "^10.0.0",
    "dotenv-expand": "^5.1.0",
    "pg": "^8.7.1",
    "pg-hstore": "^2.3.4",
    "sequelize": "^6.7.0",
    "uuid": "^8.3.2"
  },
  "devDependencies": {
    "@types/faker": "^5.5.9",
    "@types/jsonwebtoken": "^8.5.5",
    "@types/luxon": "^2.0.5",
    "@types/pg": "^8.6.1",
    "@types/uuid": "^8.3.1",
    "aws-sdk": "^2.1013.0",
    "aws-sdk-mock": "^5.4.0",
    "faker": "^5.5.3",
    "sequelize-cli": "^6.2.0",
    "serverless-bundle": "4.3.1",
    "serverless-domain-manager": "^5.1.5",
    "serverless-dotenv-plugin": "^2.1.1",
    "serverless-iam-roles-per-function": "^3.2.0",
    "serverless-offline": "^5.3.3",
    "serverless-sequelize-migrations": "^1.1.1"
  }
}
